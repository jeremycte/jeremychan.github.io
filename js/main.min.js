//Jeremy Chan Portfolio - Main JS
!function(c){"use strict";var i=800,s=c(window);document.documentElement.setAttribute("data-useragent",navigator.userAgent);var e,o,a,u,t,l,n,r,d,m,f,g;c("html").addClass("ss-preload"),s.on("load",function(){c("#loader").fadeOut("slow",function(){c("#preloader").delay(300).fadeOut()}),c("html").removeClass("ss-preload"),c("html").addClass("ss-loaded")}),c("pre").addClass("prettyprint"),c(document).ready(function(){prettyPrint()}),m=c(".page-hero"),f=c("header"),g=m.outerHeight()-170,s.on("scroll",function(){var e=s.scrollTop();g<e?f.addClass("sticky"):f.removeClass("sticky"),20+g<e?f.addClass("offset"):f.removeClass("offset"),150+g<e?f.addClass("scrolling"):f.removeClass("scrolling")}),r=c(".header-menu-toggle"),d=c(".header-nav-wrap"),r.on("click",function(e){e.preventDefault(),r.toggleClass("is-clicked"),d.slideToggle()}),r.is(":visible")&&d.addClass("mobile"),s.on("resize",function(){r.is(":visible")?d.addClass("mobile"):d.removeClass("mobile")}),d.find("a").on("click",function(){d.hasClass("mobile")&&(r.toggleClass("is-clicked"),d.slideToggle())}),(n=c(".masonry")).masonry({columnWidth:1}),n.imagesLoaded().always(function(e){console.log("all images loaded")}).done(function(e){console.log("all images successfully loaded")}).fail(function(){console.log("all images loaded, at least one is broken")}).progress(function(e,s){var o=s.isLoaded?"loaded":"broken";console.log("image is "+o+" for "+s.img.src)}),n.imagesLoaded(function(){n.masonry({itemSelector:".masonry__brick",resize:!0})}),u=[],t=c(".pswp")[0],(l=c(".item-folio")).each(function(e){var s=c(this),o=s.find(".thumb-link"),i=s.find(".item-folio__title"),a=s.find(".item-folio__caption"),t="<h4>"+c.trim(i.html())+"</h4>",l=c.trim(a.html()),n=o.attr("href"),r=o.data("size").split("x"),d={src:n,w:r[0],h:r[1]};0<a.length&&(d.title=c.trim(t+l)),u.push(d)}),l.each(function(s){c(this).on("click",function(e){e.preventDefault(),new PhotoSwipe(t,PhotoSwipeUI_Default,u,{index:s,showHideOpacity:!0}).init()})}),c(".testimonials__slider").slick({arrows:!0,dots:!1,infinite:!0,slidesToShow:2,slidesToScroll:1,prevArrow:"<div class='slick-prev'><i class='im im-arrow-left' aria-hidden='true'></i></div>",nextArrow:"<div class='slick-next'><i class='im im-arrow-right' aria-hidden='true'></i></div>",pauseOnFocus:!1,autoplaySpeed:1500,responsive:[{breakpoint:900,settings:{slidesToShow:1,slidesToScroll:1}}]}),o=c(".target-section"),a=c(".header-nav li a"),o.waypoint({handler:function(e){var s;s=c("section#"+this.element.id),"up"===e&&(s=s.prevAll(".target-section").first());var o=c('.header-nav li a[href="#'+s.attr("id")+'"]');a.parent().removeClass("current"),o.parent().addClass("current")},offset:"25%"}),c(".smoothscroll").on("click",function(e){var s=this.hash,o=c(s);e.preventDefault(),e.stopPropagation(),c("html, body").stop().animate({scrollTop:o.offset().top},i,"swing",function(){window.location.hash=s})}),c("input, textarea, select").placeholder(),c(".alert-box").on("click",".alert-box__close",function(){c(this).parent().fadeOut(500)}),c("#contactForm").validate({submitHandler:function(e){var s=c(".submit-loader");c.ajax({type:"POST",url:"inc/sendEmail.php",data:c(e).serialize(),beforeSend:function(){s.slideDown("slow")},success:function(e){"OK"==e?(s.slideUp("slow"),c(".message-warning").fadeOut(),c("#contactForm").fadeOut(),c(".message-success").fadeIn()):(s.slideUp("slow"),c(".message-warning").html(e),c(".message-warning").slideDown("slow"))},error:function(){s.slideUp("slow"),c(".message-warning").html("Something went wrong. Please try again."),c(".message-warning").slideDown("slow")}})}}),e=c(".go-top"),c(window).on("scroll",function(){500<=c(window).scrollTop()?e.fadeIn(400):e.fadeOut(400)})}(jQuery);